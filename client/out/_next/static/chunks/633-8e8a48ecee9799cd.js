"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{69599:function(e,s,a){var t=a(57437),i=a(2265),l=a(66070),n=a(1828),r=a(62869),c=a(85897),d=a(35974),o=a(65613),m=a(53647),x=a(98728),h=a(94766),u=a(76865),j=a(75368),p=a(89345),g=a(33388),f=a(83229);s.Z=e=>{let{onSettingsChange:s}=e,[a,v]=(0,i.useState)({minGrossMargin:5,maxPriceChange:10,updateFrequency:"15min",notifications:{competitorPrices:!0,inventory:!0,margins:!0,email:!0,push:!0},currency:"EUR",timezone:"Europe/Paris"}),[N,y]=(0,i.useState)(!1),b=(e,a)=>{v(s=>({...s,[e]:a})),y(!0),null==s||s(e,a)},w=(e,a)=>{v(s=>({...s,notifications:{...s.notifications,[e]:a}})),y(!0),null==s||s("notifications.".concat(e),a)};return(0,t.jsxs)(l.Zb,{className:"w-full",children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Settings"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Configure system preferences and notifications"})]}),N&&(0,t.jsx)(d.C,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Unsaved Changes"})]})}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Minimum Gross Margin (%)"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(c.i,{value:[a.minGrossMargin],onValueChange:e=>b("minGrossMargin",e[0]),max:15,min:0,step:.5,className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm font-medium w-12",children:[a.minGrossMargin,"%"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Maximum Price Change (%)"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(c.i,{value:[a.maxPriceChange],onValueChange:e=>b("maxPriceChange",e[0]),max:20,min:1,step:.5,className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm font-medium w-12",children:[a.maxPriceChange,"%"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Price Update Frequency"}),(0,t.jsxs)(m.Ph,{value:a.updateFrequency,onValueChange:e=>b("updateFrequency",e),children:[(0,t.jsx)(m.i4,{children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"5min",children:"Every 5 minutes"}),(0,t.jsx)(m.Ql,{value:"15min",children:"Every 15 minutes"}),(0,t.jsx)(m.Ql,{value:"30min",children:"Every 30 minutes"}),(0,t.jsx)(m.Ql,{value:"1hour",children:"Every hour"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Currency"}),(0,t.jsxs)(m.Ph,{value:a.currency,onValueChange:e=>b("currency",e),children:[(0,t.jsx)(m.i4,{children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"EUR",children:"Euro (€)"}),(0,t.jsx)(m.Ql,{value:"USD",children:"US Dollar ($)"}),(0,t.jsx)(m.Ql,{value:"GBP",children:"British Pound (\xa3)"})]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-4",children:"Notification Preferences"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Competitor Price Alerts"})]}),(0,t.jsx)(n.r,{checked:a.notifications.competitorPrices,onCheckedChange:e=>w("competitorPrices",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Inventory Alerts"})]}),(0,t.jsx)(n.r,{checked:a.notifications.inventory,onCheckedChange:e=>w("inventory",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Margin Alerts"})]}),(0,t.jsx)(n.r,{checked:a.notifications.margins,onCheckedChange:e=>w("margins",e)})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-4",children:"Notification Channels"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Email Notifications"})]}),(0,t.jsx)(n.r,{checked:a.notifications.email,onCheckedChange:e=>w("email",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Push Notifications"})]}),(0,t.jsx)(n.r,{checked:a.notifications.push,onCheckedChange:e=>w("push",e)})]})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-4",children:"Regional Settings"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Timezone"}),(0,t.jsxs)(m.Ph,{value:a.timezone,onValueChange:e=>b("timezone",e),children:[(0,t.jsx)(m.i4,{children:(0,t.jsx)(m.ki,{})}),(0,t.jsxs)(m.Bw,{children:[(0,t.jsx)(m.Ql,{value:"Europe/London",children:"London (GMT)"}),(0,t.jsx)(m.Ql,{value:"Europe/Paris",children:"Paris (CET)"}),(0,t.jsx)(m.Ql,{value:"America/New_York",children:"New York (EST)"}),(0,t.jsx)(m.Ql,{value:"Asia/Tokyo",children:"Tokyo (JST)"})]})]})]})})]})]}),N&&(0,t.jsx)(o.bZ,{className:"mt-4",children:(0,t.jsx)(o.X,{className:"text-sm",children:"You have unsaved changes. Please save your settings before leaving this page."})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(r.z,{variant:"outline",onClick:()=>y(!1),disabled:!N,children:"Cancel"}),(0,t.jsxs)(r.z,{onClick:()=>{y(!1)},disabled:!N,className:"bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}},25040:function(e,s,a){var t=a(57437),i=a(2265),l=a(66070),n=a(1828),r=a(35974),c=a(62869),d=a(95186),o=a(65613),m=a(85897),x=a(26110),h=a(53647),u=a(42488),j=a(98728),p=a(99397),g=a(76865),f=a(15868),v=a(33245),N=a(18930),y=a(69076),b=a(83229),w=a(81103),C=a(46632);s.Z=e=>{let{onRuleChange:s}=e,{rules:a}=(0,C.Q)(),[k,Z]=(0,i.useState)([]);(0,i.useEffect)(()=>{a&&Z(a)},[a]);let[z,P]=(0,i.useState)(!1),[S,A]=(0,i.useState)(null),[M,R]=(0,i.useState)(null),[D,I]=(0,i.useState)(!1),Q=(e,a)=>{Z(s=>s.map(s=>s.id===e?{...s,enabled:a}:s));let t=k.find(s=>s.id===e);t&&(null==s||s(e,a,t.threshold)),"min-margin"!==e||a||P(!0)},T=(e,a)=>{Z(s=>s.map(s=>s.id===e?{...s,threshold:a}:s));let t=k.find(s=>s.id===e);t&&(null==s||s(e,t.enabled,a))},F=e=>{Z(s=>s.filter(s=>s.id!==e))},L=e=>{R(e),I(!1)},V=e=>{D?Z(s=>[...s,{...e,id:"rule-".concat(Date.now())}]):Z(s=>s.map(s=>s.id===e.id?e:s)),R(null)},E=(e,s)=>{if(!s)return"bg-gray-50";switch(e){case"protection":return"bg-blue-50";case"optimization":return"bg-green-50";case"timing":return"bg-purple-50";default:return"bg-gray-50"}};return(0,t.jsxs)(l.Zb,{className:"w-full",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-base",children:"Automated Rules"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Configure automatic price adjustments"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,t.jsxs)(r.C,{variant:"outline",className:"".concat(k.filter(e=>e.enabled).length>0?"bg-green-50 text-green-700":"bg-gray-50"),children:[k.filter(e=>e.enabled).length," Active Rules"]}),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>{R({id:"",name:"",description:"",enabled:!0,icon:(0,t.jsx)(u.Z,{className:"h-5 w-5"}),category:"optimization",conditions:[],actions:[],priority:k.length+1,statistics:{timesTriggered:0,lastSuccess:null,averageImpact:0,failureRate:0}}),I(!0)},children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"New Rule"]})]})]}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[z&&(0,t.jsxs)(o.bZ,{variant:"destructive",className:"animate-in slide-in-from-top",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4"}),(0,t.jsx)(o.X,{children:"Disabling minimum margin protection may lead to reduced profitability."}),(0,t.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>P(!1),className:"ml-auto",children:"Dismiss"})]}),(0,t.jsx)("div",{className:"space-y-4",children:k.map(e=>{var s,a,i,l;return(0,t.jsxs)("div",{className:"p-4 rounded-lg transition-all ".concat(E(e.category,e.enabled)),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3 cursor-pointer",onClick:()=>A(S===e.id?null:e.id),children:[(0,t.jsx)("div",{className:"\n                    p-2 rounded-full transition-colors\n                    ".concat(e.enabled?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-600","\n                  "),children:e.icon}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"font-medium flex-wrap gap-3 flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-base",children:e.name}),(0,t.jsx)(r.C,{variant:"outline",className:"text-xs",children:e.category})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),e.lastTriggered&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Last triggered: ",e.lastTriggered.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(w.pn,{children:(0,t.jsxs)(w.u,{children:[(0,t.jsx)(w.aJ,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>L(e),children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(w._v,{children:"Edit rule"})]})}),(0,t.jsx)(n.r,{checked:e.enabled,onCheckedChange:s=>Q(e.id,s)})]})]}),S===e.id&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t space-y-4",children:[void 0!==e.threshold&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Adjustment Threshold"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(m.i,{value:[e.threshold],onValueChange:s=>T(e.id,s[0]),max:20,min:0,step:.5,className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm font-medium w-12",children:[e.threshold,"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-white rounded-lg border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Statistics"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:["Times triggered: ",null===(s=e.statistics)||void 0===s?void 0:s.timesTriggered]}),(0,t.jsxs)("p",{children:["Average impact: ",null===(a=e.statistics)||void 0===a?void 0:a.averageImpact,"%"]}),(0,t.jsxs)("p",{children:["Failure rate: ",((null!==(l=null===(i=e.statistics)||void 0===i?void 0:i.failureRate)&&void 0!==l?l:0)*100).toFixed(1),"%"]})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-white rounded-lg border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Conditions"}),(0,t.jsx)("div",{className:"space-y-1 text-sm",children:e.conditions.map((e,s)=>(0,t.jsxs)("p",{children:[e.type," ",e.operator," ",e.value,e.value2?" - ".concat(e.value2):""]},s))})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Priority level: ",e.priority," - Higher priority rules are evaluated first"]})]}),(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,t.jsx)(w.pn,{children:(0,t.jsxs)(w.u,{children:[(0,t.jsx)(w.aJ,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>F(e.id),children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(w._v,{children:"Delete rule"})]})})})]})]},e.id)})}),(0,t.jsx)(x.Vq,{open:null!==M,onOpenChange:()=>R(null),children:(0,t.jsxs)(x.cZ,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(x.fK,{children:[(0,t.jsx)(x.$N,{children:D?"Create New Rule":"Edit Rule"}),(0,t.jsx)(x.Be,{children:"Configure the automated pricing rule settings"})]}),M&&(0,t.jsxs)("div",{className:"space-y-4 py-4 lg:h-[400px] overflow-y-auto ",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Rule Name"}),(0,t.jsx)(d.I,{value:M.name,onChange:e=>R({...M,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(d.I,{value:M.description,onChange:e=>R({...M,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Category"}),(0,t.jsxs)(h.Ph,{value:M.category,onValueChange:e=>R({...M,category:e}),children:[(0,t.jsx)(h.i4,{children:(0,t.jsx)(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[(0,t.jsx)(h.Ql,{value:"protection",children:"Protection"}),(0,t.jsx)(h.Ql,{value:"optimization",children:"Optimization"}),(0,t.jsx)(h.Ql,{value:"timing",children:"Timing"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm mr-4 font-medium",children:"Conditions"}),M.conditions.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(h.Ph,{value:e.type,onValueChange:a=>{let t=[...M.conditions];t[s]={...e,type:a},R({...M,conditions:t})},children:[(0,t.jsx)(h.i4,{className:"w-[150px]",children:(0,t.jsx)(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[(0,t.jsx)(h.Ql,{value:"price",children:"Price"}),(0,t.jsx)(h.Ql,{value:"margin",children:"Margin"}),(0,t.jsx)(h.Ql,{value:"inventory",children:"Inventory"}),(0,t.jsx)(h.Ql,{value:"time",children:"Time"}),(0,t.jsx)(h.Ql,{value:"competitor",children:"Competitor"})]})]}),(0,t.jsxs)(h.Ph,{value:e.operator,onValueChange:a=>{let t=[...M.conditions];t[s]={...e,operator:a},R({...M,conditions:t})},children:[(0,t.jsx)(h.i4,{className:"w-[120px]",children:(0,t.jsx)(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[(0,t.jsx)(h.Ql,{value:"greater",children:"Greater than"}),(0,t.jsx)(h.Ql,{value:"less",children:"Less than"}),(0,t.jsx)(h.Ql,{value:"equal",children:"Equal to"}),(0,t.jsx)(h.Ql,{value:"between",children:"Between"})]})]}),(0,t.jsx)(d.I,{type:"number",value:e.value,onChange:a=>{let t=[...M.conditions];t[s]={...e,value:parseFloat(a.target.value)},R({...M,conditions:t})},className:"w-[100px]"}),"between"===e.operator&&(0,t.jsx)(d.I,{type:"number",value:e.value2||"",onChange:a=>{let t=[...M.conditions];t[s]={...e,value2:parseFloat(a.target.value)},R({...M,conditions:t})},className:"w-[100px]"}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{let e=M.conditions.filter((e,a)=>a!==s);R({...M,conditions:e})},children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>{R({...M,conditions:[...M.conditions,{type:"price",operator:"greater",value:0}]})},children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Condition"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm mr-4 font-medium",children:"Actions"}),M.actions.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(h.Ph,{value:e.type,onValueChange:a=>{let t=[...M.actions];t[s]={...e,type:a},R({...M,actions:t})},children:[(0,t.jsx)(h.i4,{className:"w-[150px]",children:(0,t.jsx)(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[(0,t.jsx)(h.Ql,{value:"adjust_price",children:"Adjust Price"}),(0,t.jsx)(h.Ql,{value:"notify",children:"Notify"}),(0,t.jsx)(h.Ql,{value:"lock_price",children:"Lock Price"})]})]}),"adjust_price"===e.type&&(0,t.jsx)(d.I,{type:"number",value:e.value,onChange:a=>{let t=[...M.actions];t[s]={...e,value:parseFloat(a.target.value)},R({...M,actions:t})},className:"w-[100px]"}),"lock_price"===e.type&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.I,{type:"number",value:e.duration||"",onChange:a=>{let t=[...M.actions];t[s]={...e,duration:parseInt(a.target.value)},R({...M,actions:t})},className:"w-[100px]"}),(0,t.jsx)("span",{className:"text-sm",children:"minutes"})]}),(0,t.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{let e=M.actions.filter((e,a)=>a!==s);R({...M,actions:e})},children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>{R({...M,actions:[...M.actions,{type:"adjust_price",value:0}]})},children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Action"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,t.jsx)(d.I,{type:"number",value:M.priority,onChange:e=>R({...M,priority:parseInt(e.target.value)}),min:"1",max:"100"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Higher priority rules are evaluated first (1-100)"})]})]}),(0,t.jsxs)(x.cN,{children:[(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>R(null),children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,t.jsxs)(c.z,{onClick:()=>{M&&V(M)},children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Save Rule"]})]})]})})]})]})}},34801:function(e,s,a){var t=a(57437),i=a(2265),l=a(66070),n=a(35974),r=a(62869),c=a(85897),d=a(95186),o=a(90740),m=a(42488),x=a(47416),h=a(73247),u=a(43391),j=a(45802),p=a(28124),g=a(68919),f=a(10407),v=a(33245),N=a(6818),y=a(91723),b=a(82431),w=a(26110),C=a(53647),k=a(34933),Z=a(21156),z=a(56940),P=a(97059),S=a(62994),A=a(62335),M=a(54061),R=a(46632),D=a(42520),I=a.n(D);a(64982),I().accessToken="pk.eyJ1IjoidGhlc29mdCIsImEiOiJjbTNqMjY5ZXowODdpMmtzZXA5Nm9ycmJiIn0.4ch5c7tjwTC9oDdX0xgruQ",s.Z=e=>{let{competitors:s,centerLat:a=48.8566,centerLng:D=2.3522,radius:Q=5}=e,{marketData:T,metrics:F}=(0,R.Q)(),[L,V]=(0,i.useState)(Q),[E,B]=(0,i.useState)(null),[_,q]=(0,i.useState)(!1),[K,O]=(0,i.useState)(!1),[U,Y]=(0,i.useState)("all"),[H,G]=(0,i.useState)("standard"),[J,X]=(0,i.useState)("24h"),[$,W]=(0,i.useState)(null),[ee,es]=(0,i.useState)(null);(0,i.useEffect)(()=>{(()=>{let e=document.getElementById("map");e&&es(new(I()).Map({container:e,style:"mapbox://styles/mapbox/streets-v11",center:[D,a],zoom:12}))})()},[a,D]),(0,i.useEffect)(()=>{ee&&s.forEach(e=>{new(I()).Marker().setLngLat([e.latitude,e.longitude]).addTo(ee)})},[ee,s]);let ea=e=>{let s=[],a=new Date;for(let t=0;t<24;t++){let i=new Date(a.getTime()-36e5*t),l=e+(Math.random()-.5)*.1;s.push({timestamp:i,price:l})}return s.reverse()};(0,i.useEffect)(()=>{if(E){let e=ea(E.price);W({priceVolatility:et(e),averageResponse:ei(e),marketInfluence:el(E),priceHistory:e})}},[E]);let et=e=>{let s=e.map(e=>e.price),a=s.reduce((e,s)=>e+s)/s.length;return Math.sqrt(s.reduce((e,s)=>e+Math.pow(s-a,2),0)/s.length)},ei=e=>{let s=0,a=0;for(let t=1;t<e.length;t++)e[t].price!==e[t-1].price&&(s+=e[t].timestamp.getTime()-e[t-1].timestamp.getTime(),a++);return a?s/a/6e4:0},el=e=>(1-e.distance/L)*(1-Math.abs(e.price-F.currentPrice)/F.currentPrice)*100,en=s.filter(e=>"all"===U||e.priceComparison===U);return(0,t.jsxs)(l.Zb,{className:"col-span-2",children:[(0,t.jsxs)(l.Ol,{className:"flex-row flex-wrap gap-3 items-center justify-between space-y-0 pb-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(l.ll,{className:"text-xl font-bold",children:"Competition Map"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[en.length," competitors within ",L,"km"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 items-center space-x-2",children:[(0,t.jsxs)(C.Ph,{value:H,onValueChange:e=>G(e),children:[(0,t.jsx)(C.i4,{className:"w-[130px]",children:(0,t.jsx)(C.ki,{})}),(0,t.jsxs)(C.Bw,{children:[(0,t.jsx)(C.Ql,{value:"standard",children:"Standard"}),(0,t.jsx)(C.Ql,{value:"heatmap",children:"Heat Map"}),(0,t.jsx)(C.Ql,{value:"cluster",children:"Clusters"})]})]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>q(!_),children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>O(!K),children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Analytics"]}),(0,t.jsx)(r.z,{variant:"outline",size:"sm",children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)(l.aY,{children:[_&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Search Radius (km)"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[L,"km"]})]}),(0,t.jsx)(c.i,{value:[L],onValueChange:e=>V(e[0]),max:20,min:1,step:.5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Time Range"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("24h"===J?"bg-blue-50":""),onClick:()=>X("24h"),children:"24 Hours"}),(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("7d"===J?"bg-blue-50":""),onClick:()=>X("7d"),children:"7 Days"}),(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("30d"===J?"bg-blue-50":""),onClick:()=>X("30d"),children:"30 Days"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Price Filter"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("all"===U?"bg-blue-50":""),onClick:()=>Y("all"),children:"All"}),(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("below"===U?"bg-green-50":""),onClick:()=>Y("below"),children:"Below Average"}),(0,t.jsx)(n.C,{variant:"outline",className:"cursor-pointer ".concat("above"===U?"bg-red-50":""),onClick:()=>Y("above"),children:"Above Average"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(d.I,{type:"text",placeholder:"Search competitors...",className:"flex-1"}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Search"]})]})]}),(0,t.jsxs)("div",{className:"relative h-[500px] bg-gray-100 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)("div",{id:"map",className:"w-full h-full"})})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[(0,t.jsx)(r.z,{variant:"secondary",size:"sm",children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"secondary",size:"sm",children:(0,t.jsx)(j.Z,{className:"h-4 w-4"})}),(0,t.jsx)(r.z,{variant:"secondary",size:"sm",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow p-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),(0,t.jsx)("span",{className:"text-sm",children:"Live Updates"})]})}),E&&(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 bg-white p-4 rounded-lg shadow-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("h3",{className:"font-bold",children:E.name}),(0,t.jsx)(n.C,{variant:"outline",children:(e=>{let s=(e.price-F.currentPrice)/F.currentPrice*100;return .1>Math.abs(s)?"Equal":s>0?"".concat(s.toFixed(1),"% Higher"):"".concat(Math.abs(s).toFixed(1),"% Lower")})(E)})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[E.distance.toFixed(1),"km away"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-bold",children:["€",E.price.toFixed(3),"/L"]}),(0,t.jsxs)(n.C,{variant:"outline",className:"below"===E.priceComparison?"bg-green-50":"above"===E.priceComparison?"bg-red-50":"",children:["below"===E.priceComparison?"Below":"Above"," Average"]})]})]}),$&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Price Volatility"}),(0,t.jsx)("p",{className:"font-medium",children:$.priceVolatility.toFixed(3)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Avg Response Time"}),(0,t.jsxs)("p",{className:"font-medium",children:[$.averageResponse.toFixed(0)," min"]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Market Influence"}),(0,t.jsxs)("p",{className:"font-medium",children:[$.marketInfluence.toFixed(1),"%"]})]})]}),(0,t.jsx)("div",{className:"mt-4 h-[100px]",children:(0,t.jsx)(k.h,{width:"100%",height:"100%",children:(0,t.jsxs)(Z.w,{data:$.priceHistory.map(e=>({time:e.timestamp.toLocaleTimeString(),price:e.price})),children:[(0,t.jsx)(z.q,{strokeDasharray:"3 3"}),(0,t.jsx)(P.K,{dataKey:"time"}),(0,t.jsx)(S.B,{domain:["auto","auto"]}),(0,t.jsx)(A.u,{}),(0,t.jsx)(M.x,{type:"monotone",dataKey:"price",stroke:"#2563eb",dot:!1})]})})}),(0,t.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,t.jsxs)(r.z,{variant:"outline",size:"sm",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,t.jsxs)(r.z,{size:"sm",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})]}),K&&(0,t.jsx)("div",{className:"absolute left-4 top-16 w-80 bg-white rounded-lg shadow-lg p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"font-medium flex items-center justify-between",children:["Market Analytics",(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>O(!1),children:(0,t.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-500",children:"Price Distribution"}),(0,t.jsx)("div",{className:"h-[100px]",children:(0,t.jsx)(k.h,{width:"100%",height:"100%",children:(0,t.jsxs)(Z.w,{data:[{price:1.7,count:2},{price:1.75,count:5},{price:1.8,count:8},{price:1.85,count:12},{price:1.9,count:6},{price:1.95,count:3}],children:[(0,t.jsx)(z.q,{strokeDasharray:"3 3"}),(0,t.jsx)(P.K,{dataKey:"price"}),(0,t.jsx)(S.B,{}),(0,t.jsx)(A.u,{}),(0,t.jsx)(M.x,{type:"monotone",dataKey:"count",stroke:"#2563eb"})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Average Price"}),(0,t.jsxs)("p",{className:"font-medium",children:["€",T.competitorAvgPrice.toFixed(3)]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Price Range"}),(0,t.jsx)("p",{className:"font-medium",children:"€0.20"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Active Competitors"}),(0,t.jsx)("p",{className:"font-medium",children:en.length})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-500",children:"Market Position"}),(0,t.jsx)(n.C,{variant:"outline",className:"bg-blue-50",children:T.pricePosition})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-500",children:"Price Change Frequency"}),(0,t.jsx)("div",{className:"space-y-1",children:[{time:"Last hour",changes:3},{time:"Last 6 hours",changes:12},{time:"Last 24 hours",changes:28}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs",children:e.time}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-2 bg-blue-200 rounded-full",style:{width:"".concat(4*e.changes,"px")}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:e.changes})]})]},e.time))})]})]}),(0,t.jsxs)(w.Vq,{children:[(0,t.jsx)(w.hg,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",className:"w-full",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Detailed Analysis"]})}),(0,t.jsxs)(w.cZ,{className:"sm:max-w-[800px]",children:[(0,t.jsxs)(w.fK,{children:[(0,t.jsx)(w.$N,{children:"Market Analysis"}),(0,t.jsx)(w.Be,{children:"Comprehensive market trends and competitor analysis"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Price Trends"}),(0,t.jsx)("div",{className:"h-[300px]",children:(0,t.jsx)(k.h,{width:"100%",height:"100%",children:(0,t.jsxs)(Z.w,{data:ea(T.competitorAvgPrice).map(e=>({time:e.timestamp.toLocaleTimeString(),avgPrice:e.price,ourPrice:e.price*(1+.1*Math.random()-.05)})),children:[(0,t.jsx)(z.q,{strokeDasharray:"3 3"}),(0,t.jsx)(P.K,{dataKey:"time"}),(0,t.jsx)(S.B,{domain:["auto","auto"]}),(0,t.jsx)(A.u,{}),(0,t.jsx)(M.x,{type:"monotone",dataKey:"avgPrice",stroke:"#2563eb",name:"Market Average"}),(0,t.jsx)(M.x,{type:"monotone",dataKey:"ourPrice",stroke:"#16a34a",name:"Our Price"})]})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Competitor Behavior Analysis"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-medium",children:"Average Response Times"}),(0,t.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-2 bg-blue-200 rounded-full",style:{width:"".concat(100*Math.random(),"px")}}),(0,t.jsxs)("span",{className:"text-xs",children:[Math.floor(30*Math.random()+5),"m"]})]})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-medium",children:"Market Influence Score"}),(0,t.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsxs)(n.C,{variant:"outline",className:0===s?"bg-blue-50":1===s?"bg-green-50":"bg-gray-50",children:[(100*Math.random()).toFixed(1),"%"]})]},s))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"AI Recommendations"}),(0,t.jsx)("div",{className:"space-y-2",children:[{title:"Price Adjustment",description:"Consider increasing price by 0.02€/L based on competitor margins",impact:"High",type:"positive"},{title:"Market Position",description:"Maintain current position to preserve market share",impact:"Medium",type:"neutral"},{title:"Competitive Response",description:"Monitor Station A for potential price changes",impact:"Low",type:"warning"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"mt-1 h-2 w-2 rounded-full ".concat("positive"===e.type?"bg-green-500":"neutral"===e.type?"bg-blue-500":"bg-yellow-500")}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h6",{className:"font-medium",children:e.title}),(0,t.jsxs)(n.C,{variant:"outline",className:"High"===e.impact?"bg-green-50":"Medium"===e.impact?"bg-blue-50":"bg-gray-50",children:[e.impact," Impact"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]},s))})]})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-5 items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),(0,t.jsx)("span",{children:"Below Average"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),(0,t.jsx)("span",{children:"Above Average"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),(0,t.jsx)("span",{children:"Equal"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Last updated: 5 mins ago"}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})})]})]})]})]})}},37749:function(e,s,a){var t=a(57437),i=a(2265),l=a(66070),n=a(76865),r=a(40875),c=a(70525),d=a(3085),o=a(58896),m=a(5187),x=a(93609),h=a(96215),u=a(91723),j=a(81103),p=a(62869),g=a(26110),f=a(34933),v=a(21156),N=a(56940),y=a(97059),b=a(62994),w=a(62335),C=a(54061),k=a(46632);let Z=e=>{let{title:s,value:a,change:o,target:m,icon:x,format:h,alert:u,trend:k,historicalData:Z,analysis:z,benchmark:P}=e,[S,A]=(0,i.useState)(!1),M=(e,s)=>{let a=e/s*100;return a>=90?"bg-green-500":a>=70?"bg-yellow-500":"bg-red-500"};return(0,t.jsxs)(l.Zb,{className:"relative ".concat(u?"border-yellow-400":""," hover:shadow-md transition-all"),children:[(0,t.jsx)(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[x,(0,t.jsx)("span",{children:s})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[u&&(0,t.jsx)(j.pn,{children:(0,t.jsxs)(j.u,{children:[(0,t.jsx)(j.aJ,{children:(0,t.jsx)(n.Z,{className:"h-4 w-4 text-yellow-400"})}),(0,t.jsx)(j._v,{children:(0,t.jsx)("p",{children:"Below target threshold"})})]})}),(0,t.jsx)(p.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>A(!0),children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-end flex-wrap justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:["currency"===h&&"€","number"==typeof a?a.toLocaleString():a,"percentage"===h&&"%"]}),void 0!==o&&(0,t.jsxs)("div",{className:"flex items-center ".concat(o>0?"text-green-500":o<0?"text-red-500":"text-gray-500"),children:[o>0?(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-1"}):(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{className:"text-sm",children:[Math.abs(o),"%"]})]})]}),m&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,t.jsx)("span",{children:"Progress to Target"}),(0,t.jsxs)("span",{children:[(a/m*100).toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-1",children:(0,t.jsx)("div",{className:"h-1 rounded-full ".concat(M(a,m)),style:{width:"".concat(Math.min(a/m*100,100),"%")}})})]}),P&&(0,t.jsxs)("div",{className:"mt-2 text-xs text-gray-500 flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[P.label,":"]}),(0,t.jsxs)("span",{className:"font-medium",children:["currency"===h&&"€",P.value.toLocaleString(),"percentage"===h&&"%"]})]})]})}),(0,t.jsx)(g.Vq,{open:S,onOpenChange:A,children:(0,t.jsxs)(g.cZ,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(g.fK,{children:[(0,t.jsxs)(g.$N,{className:"flex items-center space-x-2",children:[x,(0,t.jsxs)("span",{children:[s," Details"]})]}),(0,t.jsx)(g.Be,{children:"Detailed analysis and historical performance"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[Z&&(0,t.jsx)("div",{className:"h-[200px]",children:(0,t.jsx)(f.h,{width:"100%",height:"100%",children:(0,t.jsxs)(v.w,{data:Z,children:[(0,t.jsx)(N.q,{strokeDasharray:"3 3"}),(0,t.jsx)(y.K,{dataKey:"date"}),(0,t.jsx)(b.B,{}),(0,t.jsx)(w.u,{}),(0,t.jsx)(C.x,{type:"monotone",dataKey:"value",stroke:"#2563eb",name:s})]})})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Analysis"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:z})]}),P&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Benchmark Comparison"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:P.label}),(0,t.jsxs)("span",{className:"font-medium",children:["currency"===h&&"€",P.value.toLocaleString(),"percentage"===h&&"%"]})]})]}),m&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Target Progress"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Current Progress"}),(0,t.jsxs)("span",{children:[(a/m*100).toFixed(1),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full ".concat(M(a,m)),style:{width:"".concat(Math.min(a/m*100,100),"%")}})})]})]})]})]})})]})};s.Z=()=>{let{metrics:e,marketData:s}=(0,k.Q)(),a=e=>Array.from({length:30},(e,s)=>{let a=new Date;return a.setDate(a.getDate()-(29-s)),a.toISOString().split("T")[0]}).map(s=>({date:s,value:e+(Math.random()-.5)*e*.2})),i=[{title:"Gross Margin",value:e.grossMargin,change:2.4,target:e.targetMargin,icon:(0,t.jsx)(o.Z,{className:"h-4 w-4"}),format:"percentage",alert:e.grossMargin<.9*e.targetMargin,trend:"up",historicalData:a(e.grossMargin),analysis:"Margin has shown consistent growth over the past month, primarily driven by optimized pricing strategies and reduced operating costs.",benchmark:{value:.15*s.competitorAvgPrice,label:"Industry Average"}},{title:"Current Price",value:e.currentPrice,change:1.2,icon:(0,t.jsx)(m.Z,{className:"h-4 w-4"}),format:"currency",trend:"up",historicalData:a(e.currentPrice),analysis:"Price movements have remained competitive while maintaining profitability targets.",benchmark:{value:s.competitorAvgPrice,label:"Market Average"}},{title:"Inventory Level",value:e.inventoryLevel,target:100,icon:(0,t.jsx)(x.Z,{className:"h-4 w-4"}),format:"percentage",alert:e.inventoryLevel<30,trend:"down",historicalData:a(e.inventoryLevel),analysis:"Inventory levels are below optimal range, suggesting need for restock planning.",benchmark:{value:85,label:"Optimal Level"}},{title:"Daily Revenue",value:e.revenue,change:3.5,target:3e4,icon:(0,t.jsx)(h.Z,{className:"h-4 w-4"}),format:"currency",trend:"up",historicalData:a(e.revenue),analysis:"Revenue growth remains strong, exceeding monthly targets consistently.",benchmark:{value:s.avgDailyRevenue,label:"Market Average"}},{title:"Volume Sold (L)",value:e.volumeSold,change:-1.2,icon:(0,t.jsx)(u.Z,{className:"h-4 w-4"}),format:"number",trend:"down",historicalData:a(e.volumeSold),analysis:"Slight decrease in volume, but offset by higher margins per unit.",benchmark:{value:s.avgVolumeSold,label:"Industry Average"}},{title:"Customer Count",value:e.customerCount,change:2.8,icon:(0,t.jsx)(h.Z,{className:"h-4 w-4"}),format:"number",trend:"up",historicalData:a(e.customerCount),analysis:"Customer base growing steadily, indicating effective acquisition strategies.",benchmark:{value:s.avgCustomerCount,label:"Regional Average"}}];return(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:i.map((e,s)=>(0,t.jsx)(Z,{...e},s))})})}},66759:function(e,s,a){a.d(s,{Z:function(){return R}});var t=a(57437),i=a(2265),l=a(62869),n=a(14938),r=a(42488),c=a(70525),d=a(6818),o=a(10866),m=a(94766),x=a(98728),h=a(92369),u=a(75368),j=a(47692),p=a(32489),g=a(58293),f=a(70085),v=a(10407),N=a(30401),y=a(40519),b=a(94508);let w=f.fC,C=f.xz;f.ZA,f.Uv,f.Tr,f.Ee,i.forwardRef((e,s)=>{let{className:a,inset:i,children:l,...n}=e;return(0,t.jsxs)(f.fF,{ref:s,className:(0,b.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",a),...n,children:[l,(0,t.jsx)(v.Z,{className:"ml-auto"})]})}).displayName=f.fF.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(f.tu,{ref:s,className:(0,b.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})}).displayName=f.tu.displayName;let k=i.forwardRef((e,s)=>{let{className:a,sideOffset:i=4,...l}=e;return(0,t.jsx)(f.Uv,{children:(0,t.jsx)(f.VY,{ref:s,sideOffset:i,className:(0,b.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});k.displayName=f.VY.displayName;let Z=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(f.ck,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",a),...l})});Z.displayName=f.ck.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,checked:l,...n}=e;return(0,t.jsxs)(f.oC,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(f.wU,{children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})}),i]})}).displayName=f.oC.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,...l}=e;return(0,t.jsxs)(f.Rk,{ref:s,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(f.wU,{children:(0,t.jsx)(y.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=f.Rk.displayName;let z=i.forwardRef((e,s)=>{let{className:a,inset:i,...l}=e;return(0,t.jsx)(f.__,{ref:s,className:(0,b.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",a),...l})});z.displayName=f.__.displayName;let P=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(f.Z0,{ref:s,className:(0,b.cn)("-mx-1 my-1 h-px bg-muted",a),...i})});P.displayName=f.Z0.displayName;var S=a(35974),A=a(99376),M=a(46632),R=e=>{let{currentView:s}=e,a=(0,A.useRouter)(),f=(0,A.usePathname)(),v=(0,A.useSearchParams)(),{notifications:N,rules:y,setView:b}=(0,M.Q)(),[R,D]=(0,i.useState)(!1),I=(0,i.useCallback)((e,s)=>{let a=new URLSearchParams(v.toString());return a.set(e,s),a.toString()},[v]),Q=e=>{a.push("".concat(f,"?").concat(I("view",e))),b(e),D(!1)},T=[{title:"Dashboard",icon:(0,t.jsx)(n.Z,{className:"h-4 w-4"}),view:"overview",badge:"Live"},{title:"Pricing Console",icon:(0,t.jsx)(r.Z,{className:"h-4 w-4"}),view:"pricing"},{title:"Competition",icon:(0,t.jsx)(c.Z,{className:"h-4 w-4"}),view:"competition"},{title:"Analytics",icon:(0,t.jsx)(d.Z,{className:"h-4 w-4"}),view:"analytics",badge:"New"},{title:"Settings",icon:(0,t.jsx)(o.Z,{className:"h-4 w-4"}),view:"settings"}],F=N.filter(e=>!e.read);return(0,t.jsxs)("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b z-50",children:[(0,t.jsxs)("div",{className:"container mx-auto h-full flex items-center justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("img",{src:"/logos/logo_energy.png",alt:"Logo",className:"h-8 w-8"}),(0,t.jsx)("h1",{className:"text-xl font-bold",children:"AI4Energy"})]}),(0,t.jsx)("div",{className:"hidden lg:flex space-x-1",children:T.map(e=>(0,t.jsxs)(l.z,{variant:s===e.view?"default":"ghost",className:"flex items-center space-x-2",onClick:()=>Q(e.view),children:[e.icon,(0,t.jsx)("span",{children:e.title}),e.badge&&(0,t.jsx)(S.C,{variant:"secondary",className:"ml-2",children:e.badge})]},e.view))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(w,{children:[(0,t.jsx)(C,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(m.Z,{className:"h-5 w-5 text-gray-500"}),F.length>0&&(0,t.jsx)("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]})}),(0,t.jsxs)(k,{align:"end",className:"w-80",children:[(0,t.jsx)(z,{children:"Notifications"}),(0,t.jsx)(P,{}),N.length>0?N.map(e=>(0,t.jsxs)(Z,{className:"flex items-center py-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat("warning"===e.type?"bg-yellow-400":"success"===e.type?"bg-green-400":"bg-blue-400")}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.message})]})]},e.id)):(0,t.jsx)("div",{className:"px-2 py-4 text-center text-sm text-gray-500",children:"No new notifications"})]})]}),(0,t.jsxs)(w,{children:[(0,t.jsx)(C,{asChild:!0,children:(0,t.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,t.jsx)(x.Z,{className:"h-5 w-5 text-gray-500"})})}),(0,t.jsxs)(k,{align:"end",children:[(0,t.jsx)(z,{children:"Settings"}),(0,t.jsx)(P,{}),(0,t.jsxs)(Z,{onClick:()=>Q("settings"),children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Profile"})]}),(0,t.jsxs)(Z,{children:[(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Help & Support"})]}),(0,t.jsx)(P,{}),(0,t.jsxs)(Z,{className:"text-red-600",children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Log out"})]})]})]}),(0,t.jsx)(l.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>{D(!R)},children:R?(0,t.jsx)(p.Z,{className:"h-5 w-5"}):(0,t.jsx)(g.Z,{className:"h-5 w-5"})})]})]}),R&&(0,t.jsx)("div",{className:"lg:hidden absolute top-16 left-0 right-0 bg-white border-b shadow-lg",children:(0,t.jsx)("div",{className:"container mx-auto py-4 px-4 space-y-2",children:T.map(e=>(0,t.jsxs)(l.z,{variant:s===e.view?"default":"ghost",className:"w-full justify-start",onClick:()=>Q(e.view),children:[e.icon,(0,t.jsx)("span",{className:"ml-2",children:e.title}),e.badge&&(0,t.jsx)(S.C,{variant:"secondary",className:"ml-auto",children:e.badge})]},e.view))})})]})}},67770:function(e,s,a){var t=a(57437),i=a(2265),l=a(66070),n=a(62869),r=a(85897),c=a(65613),d=a(66337),o=a(49589),m=a(65621),x=a(6818),h=a(70525),u=a(3085),j=a(68919),p=a(76858),g=a(69076),f=a(76865),v=a(81103),N=a(53647),y=a(35974),b=a(46632);s.Z=e=>{let{currentPrice:s,minPrice:a=1.5,maxPrice:w=2.5,onPriceChange:C,onPriceConfirm:k}=e,{marketData:Z,metrics:z}=(0,b.Q)(),[P,S]=(0,i.useState)(s),[A,M]=(0,i.useState)([{price:s,timestamp:new Date,type:"manual"}]),[R,D]=(0,i.useState)(!1),[I,Q]=(0,i.useState)({margin:0,volume:0,revenue:0,marketShare:0}),[T,F]=(0,i.useState)(!1),[L,V]=(0,i.useState)("manual");(0,i.useEffect)(()=>{Q((()=>{let e=P-s,a=-(5e3*e),t=z.volumeSold,i=t+a,l=s*t,n=P*i;return{margin:e*i,volume:a/t*100,revenue:n-l,marketShare:P>Z.competitorAvgPrice?-2.5:1.5}})())},[P,s,z.volumeSold,Z.competitorAvgPrice]);let E=()=>Math.min(Math.max(Z.competitorAvgPrice*(1+z.targetMargin/100),a),w),B=e=>{let s=new Date().getTime()-e.getTime(),a=Math.floor(s/36e5);return a>0?"".concat(a,"h ago"):"".concat(Math.floor(s%36e5/6e4),"m ago")};return(0,t.jsxs)(l.Zb,{className:"w-full",children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)("div",{className:"flex flex-wrap sm:flex-nowrap gap-4 items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"Price Adjustment"}),T&&(0,t.jsx)(y.C,{variant:"outline",className:"ml-2",children:"Locked"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"smart"===L?"AI-Optimized Pricing":"Manual Price Control"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>F(!T),children:T?(0,t.jsx)(d.Z,{className:"h-4 w-4"}):(0,t.jsx)(o.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>D(!R),children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),R?"Hide History":"Show History"]})]})]})}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-x-4 items-center",children:[(0,t.jsxs)(N.Ph,{value:L,onValueChange:e=>V(e),children:[(0,t.jsx)(N.i4,{className:"w-[200px]",children:(0,t.jsx)(N.ki,{placeholder:"Select mode"})}),(0,t.jsxs)(N.Bw,{children:[(0,t.jsx)(N.Ql,{value:"manual",children:"Manual Adjustment"}),(0,t.jsx)(N.Ql,{value:"smart",children:"Smart AI Pricing"})]})]}),"smart"===L&&(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{S(E()),V("smart")},children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Get AI Suggestion"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Current Price"}),(0,t.jsxs)("div",{className:"text-right flex gap-4",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("span",{className:"text-xl font-bold",children:["€",P.toFixed(3)]}),(0,t.jsx)("span",{className:"text-lg text-gray-500 ml-1",children:"/L"})]}),P!==Z.competitorAvgPrice&&(0,t.jsxs)(y.C,{variant:"outline",className:"ml-2 ".concat(P>Z.competitorAvgPrice?"bg-red-50 text-red-700":"bg-green-50 text-green-700"),children:[P>Z.competitorAvgPrice?"Above":"Below"," Market"]})]})]}),(0,t.jsx)(r.i,{value:[P],onValueChange:e=>{T||(S(e[0]),null==C||C(e[0]))},max:w,min:a,step:.001,className:"w-full",disabled:T}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["Min: €",a.toFixed(3)]}),(0,t.jsxs)("span",{children:["Market Avg: €",Z.competitorAvgPrice.toFixed(3)]}),(0,t.jsxs)("span",{children:["Max: €",w.toFixed(3)]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1  md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-blue-50 transition-all hover:bg-blue-100",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-blue-700",children:"Margin Impact"}),I.margin>0?(0,t.jsx)(h.Z,{className:"h-4 w-4 text-blue-700"}):(0,t.jsx)(u.Z,{className:"h-4 w-4 text-blue-700"})]}),(0,t.jsxs)("span",{className:"text-xs lg:text-xl font-bold text-blue-900",children:[I.margin>0?"+":"","€",I.margin.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-green-50 transition-all hover:bg-green-100",children:[(0,t.jsxs)("div",{className:"flex items-center flex-wrap justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-green-700",children:"Volume Impact"}),I.volume>0?(0,t.jsx)(h.Z,{className:"h-4 w-4 text-green-700"}):(0,t.jsx)(u.Z,{className:"h-4 w-4 text-green-700"})]}),(0,t.jsxs)("span",{className:"text-xs lg:text-xl font-bold text-green-900",children:[I.volume>0?"+":"",I.volume.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-purple-50 transition-all hover:bg-purple-100",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-purple-700",children:"Revenue Impact"}),I.revenue>0?(0,t.jsx)(h.Z,{className:"h-4 w-4 text-purple-700"}):(0,t.jsx)(u.Z,{className:"h-4 w-4 text-purple-700"})]}),(0,t.jsxs)("span",{className:"text-xs lg:text-xl font-bold text-purple-900",children:[I.revenue>0?"+":"","€",I.revenue.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"p-5 rounded-lg bg-orange-50 transition-all hover:bg-orange-100",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-orange-700",children:"Market Share"}),I.marketShare>0?(0,t.jsx)(h.Z,{className:"h-4 w-4 text-orange-700"}):(0,t.jsx)(u.Z,{className:"h-4 w-4 text-orange-700"})]}),(0,t.jsxs)("span",{className:"text-xs lg:text-xl font-bold text-orange-900",children:[I.marketShare>0?"+":"",I.marketShare.toFixed(1),"%"]})]})]}),R&&(0,t.jsxs)("div",{className:"space-y-2 animate-in slide-in-from-top",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Recent Price Changes"}),(0,t.jsxs)(n.z,{variant:"ghost",size:"sm",className:"h-8",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:["€",e.price.toFixed(3)]}),(0,t.jsx)(y.C,{variant:"outline",children:e.type})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:B(e.timestamp)})]},s))})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(v.pn,{children:(0,t.jsxs)(v.u,{children:[(0,t.jsx)(v.aJ,{asChild:!0,children:(0,t.jsxs)(n.z,{className:"flex-1 transition-all",onClick:()=>{M([{price:P,timestamp:new Date,type:L},...A.slice(0,9)]),null==k||k(P)},disabled:P===s||T,children:["Confirm Change",(0,t.jsx)(p.Z,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)(v._v,{children:(0,t.jsx)("p",{children:T?"Unlock price to make changes":"Apply new price"})})]})}),(0,t.jsx)(n.z,{variant:"outline",onClick:()=>S(s),disabled:P===s||T,className:"transition-all",children:(0,t.jsx)(g.Z,{className:"h-4 w-4"})})]}),Math.abs(I.margin)>1e3&&(0,t.jsxs)(c.bZ,{variant:"destructive",className:"animate-in slide-in-from-bottom",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4"}),(0,t.jsx)(c.X,{children:"Large margin impact detected. Please review carefully before confirming."})]}),P>1.1*Z.competitorAvgPrice&&(0,t.jsxs)(c.bZ,{className:"animate-in slide-in-from-bottom",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4"}),(0,t.jsx)(c.X,{children:"Price is significantly above market average. This might affect market share."})]})]})]})}},65613:function(e,s,a){a.d(s,{X:function(){return d},bZ:function(){return c}});var t=a(57437),i=a(2265),l=a(77712),n=a(94508);let r=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=i.forwardRef((e,s)=>{let{className:a,variant:i,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(r({variant:i}),a),...l})});c.displayName="Alert",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...i})}).displayName="AlertTitle";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...i})});d.displayName="AlertDescription"},26110:function(e,s,a){a.d(s,{$N:function(){return j},Be:function(){return p},Vq:function(){return c},cN:function(){return u},cZ:function(){return x},fK:function(){return h},hg:function(){return d}});var t=a(57437),i=a(2265),l=a(49027),n=a(32489),r=a(94508);let c=l.fC,d=l.xz,o=l.h_;l.x8;let m=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.aV,{ref:s,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...i})});m.displayName=l.aV.displayName;let x=i.forwardRef((e,s)=>{let{className:a,children:i,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.VY,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[i,(0,t.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.VY.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let j=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.Dx,{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",a),...i})});j.displayName=l.Dx.displayName;let p=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.dk,{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...i})});p.displayName=l.dk.displayName},95186:function(e,s,a){a.d(s,{I:function(){return n}});var t=a(57437),i=a(2265),l=a(94508);let n=i.forwardRef((e,s)=>{let{className:a,type:i,...n}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},85897:function(e,s,a){a.d(s,{i:function(){return r}});var t=a(57437),i=a(2265),l=a(38846),n=a(94508);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsxs)(l.fC,{ref:s,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...i,children:[(0,t.jsx)(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});r.displayName=l.fC.displayName},1828:function(e,s,a){a.d(s,{r:function(){return r}});var t=a(57437),i=a(2265),l=a(50721),n=a(94508);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:s,children:(0,t.jsx)(l.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});r.displayName=l.fC.displayName},81103:function(e,s,a){a.d(s,{_v:function(){return o},aJ:function(){return d},pn:function(){return r},u:function(){return c}});var t=a(57437),i=a(2265),l=a(61312),n=a(94508);let r=l.zt,c=l.fC,d=l.xz,o=i.forwardRef((e,s)=>{let{className:a,sideOffset:i=4,...r}=e;return(0,t.jsx)(l.VY,{ref:s,sideOffset:i,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});o.displayName=l.VY.displayName}}]);